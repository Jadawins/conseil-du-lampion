<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Combat MJ – Le Conseil du Lampion</title>
  <link rel="stylesheet" href="css/theme.css"/>
  <link rel="stylesheet" href="css/ui.css"/>
</head>
<body data-theme="dark">
  <script>
    if (localStorage.getItem("theme") === "light") {
      document.body.setAttribute("data-theme", "light");
    } else {
      document.body.setAttribute("data-theme", "dark");
    }
  </script>

  <div class="theme-toggle-container">
    <button id="theme-toggle" class="lanterne-btn">
      <img
        id="lanterne-icon"
        src="assets/img/lumiere.png"
        alt="Changer de thème"
        width="48"
        height="48"
      />
    </button> 
  </div>

  <main>
    <h1>⚔️ Gestion du combat MJ</h1>

    <section id="tour-actuel">
      <h2><span class="emoji">⏳</span> <span class="section-title">Tour actuel</span></h2>
      <p id="info-tour" class="tour-message">Chargement...</p>
    </section>

    <section id="ordre-combat">
      <h2>📜 Ordre d'initiative</h2>
      <table id="ordre-combat" class="combat-table journal-combat">
        <thead>
          <tr><th>Nom</th><th>Initiative</th><th>PV</th></tr>
        </thead>
        <tbody id="liste-initiative"></tbody>
      </table>
    </section>

    <section id="actions-mj" style="display: none;">
      <h2>🎮 Vos actions</h2>
      <button class="btn-style" id="btn-attaquer">⚔️ Attaquer</button>
      <button class="btn-style" id="btn-soigner">❤️‍🩹 Soigner</button>
      <button class="btn-style" id="btn-passer">➡️ Passer le tour</button>
    </section>

    <section id="journal-combat" class="card-section journal-combat">
      <h2>📜 Journal du combat</h2>
      <ul id="log-combat" class="journal-combat-list"></ul>
    </section>
    

    <section id="fin-combat" class="card-section hidden">
      <h2 id="message-fin-combat"></h2>
      <button id="btn-fin-combat" class="btn-style btn-rouge">🛑 Terminer le combat</button>
    </section>

    <section id="formulaire-soin" class="card-section hidden">
      <h2>🩹 Appliquer un soin</h2>

      <div class="form-group">
        <label for="cible-soin">Cible :</label>
        <select id="cible-soin"></select>
      </div>

      <div class="form-group">
        <label for="valeur-soin">Valeur du soin :</label>
        <input type="number" id="valeur-soin" min="1" />
      </div>

      <div class="form-buttons">
        <button class="btn-style" id="valider-soin">✅ Valider</button>
        <button class="btn-style btn-rouge" id="annuler-soin">❌ Annuler</button>
      </div>
    </section>

    <!-- 🎯 FORMULAIRE ATTAQUE -->
    <section id="formulaire-attaque" class="card-section hidden">
      <h2>⚔️ Appliquer une attaque</h2>

      <div class="form-group">
        <label for="cible-attaque">Cible :</label>
        <select id="cible-attaque"></select>
      </div>

      <div class="form-group">
        <label for="valeur-attaque">Valeur des dégâts :</label>
        <input type="number" id="valeur-attaque" min="1" />
      </div>

      <div class="form-buttons">
        <button class="btn-style" id="valider-attaque">✅ Valider</button>
        <button class="btn-style btn-rouge" id="annuler-attaque">❌ Annuler</button>
      </div>
    </section>
  </main>

  <script src="js/theme.js"></script>
  <script src="js/mj-bagarre.js"></script>

  <div class="btn-bottom-container">
    <a href="index.html" class="btn-accueil-bottom">🏠 Accueil</a>
  </div>
</body>
</html>
